<?phpfunction version_data_resource_index($hash , $type){    if(!(hash_true($hash , "versions"))) return "failed to access";    $query = db_select('api_app_version' , 'version');    $query->fields('version' , array('vid' , 'description' , 'force_update' , 'update_link' , 'ebook_key'));    if($type != '' && strlen($type) > 0) $query->condition('version.app_type' , $type);    $results = $query->execute()->fetchAll();    return ["versions" => $results];}function custom_service_resource_retrieve($hash , $vid , $type){    if(!(hash_true($hash , "versions"))) return "failed to access";    $query = db_select('api_app_version' , 'version');    $query->fields('version' , array('vid' , 'description' , 'force_update' , 'update_link' , 'ebook_key'));    $query->condition('version.vid' , $vid);    $query->condition('version.app_type' , $type);    $result = $query->execute()->fetch();    return $result;}function custom_service_resource_create($hash , $data){    if(!(hash_true($hash , "versions"))) return "failed to access";    $version = db_insert('api_app_version')        ->fields(array(            'vid' => $data['version_id'],            'description' => $data['description'],            'force_update' => $data['force_update'],            'update_link' => $data['update_link'],            'ebook_key' => $data['ebook_key'],            'app_type' => $data['type'],            'created' => REQUEST_TIME,        ))        ->execute();    if($version == 1) return "successful";    else return "error";}function custom_service_resource_edit($hash , $vid , $type , $data){    if(!(hash_true($hash , "versions"))) return "failed to access";    $query = db_select('api_app_version' , 'version');    $query->fields('version' , array('id'));    $query->condition('version.vid' , $vid);    $query->condition('version.app_type' , $type);    $version_id = $query->execute()->fetch()->id;    $version_update = db_update('api_app_version')        ->fields(array(            'vid' => $vid,            'description' => $data['description'],            'force_update' => $data['force_update'],            'update_link' => $data['update_link'],            'ebook_key' => $data['ebook_key'],        ))        ->condition('id',$version_id)        ->execute();    return $version_update;}